<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Xeno Help & Tutorial</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Custom styles for a pure black (AMOLED) aesthetic */
        body {
            background-color: #000000;
            background-image: radial-gradient(circle at 50% 0%, #111111 0%, #000000 60%);
            background-attachment: fixed;
            color: #f3f4f6;
            line-height: 1.6;
            font-family: ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif;
        }

        .accent-color { color: #ffffff; }

        .fix-card {
            background-color: rgba(13, 13, 13, 0.85);
            backdrop-filter: blur(8px);
            -webkit-backdrop-filter: blur(8px);
            border: 1px solid #1a1a1a;
            transition: transform 0.2s ease, border-color 0.2s ease, box-shadow 0.2s ease;
            position: relative; /* Ensure z-index works */
        }

        .fix-card:hover {
            border-color: #4b5563;
            transform: translateY(-4px);
            box-shadow: 0 10px 20px -5px rgba(0, 0, 0, 0.8);
            z-index: 10;
        }

        /* --- FIX FOR HARD TO CLICK LINKS --- */
        /* This makes the clickable area of links bigger and forces them on top */
        .fix-card a {
            position: relative;
            z-index: 20;
            display: inline-block;
            padding: 2px 4px; /* Increases clickable surface area */
            border-radius: 4px;
            transition: background-color 0.2s;
        }
        .fix-card a:hover {
            background-color: rgba(255, 255, 255, 0.1);
            text-decoration: none;
        }
        /* ----------------------------------- */

        .fix-card.completed {
            border-color: #10b981;
            box-shadow: 0 0 15px rgba(16, 185, 129, 0.2);
        }

        .warning-box {
            background-color: rgba(31, 11, 11, 0.9); 
            border: 1px solid #ef4444; 
            color: #fca5a5; 
        }

        .action-button {
            padding: 8px 16px;
            border-radius: 9999px;
            font-weight: 600;
            font-size: 0.875rem;
            transition: background-color 0.2s;
            position: relative;
            z-index: 50; /* Ensure main buttons are always clickable */
        }

        @keyframes green-pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
        .green-pulse {
            animation: green-pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        }

        /* CHAT BOT STYLES */
        .chat-container {
            transition: opacity 0.3s ease, transform 0.3s ease;
        }
        .chat-hidden {
            opacity: 0;
            transform: translateY(20px);
            pointer-events: none;
        }
        .chat-visible {
            opacity: 1;
            transform: translateY(0);
            pointer-events: all;
        }
        .typing-dot {
            animation: typing 1.4s infinite ease-in-out both;
        }
        .typing-dot:nth-child(1) { animation-delay: -0.32s; }
        .typing-dot:nth-child(2) { animation-delay: -0.16s; }
        @keyframes typing {
            0%, 80%, 100% { transform: scale(0); }
            40% { transform: scale(1); }
        }
        /* Scrollbar for chat */
        .chat-scroll::-webkit-scrollbar { width: 6px; }
        .chat-scroll::-webkit-scrollbar-track { background: #111; }
        .chat-scroll::-webkit-scrollbar-thumb { background: #333; border-radius: 3px; }
        .chat-scroll::-webkit-scrollbar-thumb:hover { background: #555; }
    </style>
</head>
<body class="p-4 md:p-10 min-h-screen">

    <div class="max-w-7xl mx-auto">
        
        <div class="flex flex-col md:flex-row justify-end space-y-3 md:space-y-0 md:space-x-4 mb-8">
            <a href="https://discord.gg/xe-no" target="_blank" rel="noopener noreferrer" class="action-button bg-indigo-600 hover:bg-indigo-700 text-white flex items-center justify-center md:justify-start">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 127.14 96.36" fill="currentColor" class="mr-2">
                    <path d="M107.7,8.07A105.15,105.15,0,0,0,81.47,0a72.06,72.06,0,0,0-3.36,6.83A97.68,97.68,0,0,0,49,6.83,72.37,72.37,0,0,0,45.64,0,105.89,105.89,0,0,0,19.39,8.09C2.79,32.65-1.71,56.6.54,80.21h0A105.73,105.73,0,0,0,32.71,96.36,77.11,77.11,0,0,0,39.6,85.25a68.42,68.42,0,0,1-10.85-5.18c.91-.66,1.8-1.34,2.66-2a75.57,75.57,0,0,0,64.32,0c.87.71,1.76,1.39,2.66,2a68.68,68.68,0,0,1-10.87,5.19,77,77,0,0,0,6.89,11.1A105.25,105.25,0,0,0,126.6,80.22c1.24-23.28-3.28-47.54-18.9-72.15ZM42.45,65.69C36.18,65.69,31,60,31,53s5-12.74,11.43-12.74S54,46,53.89,53,48.84,65.69,42.45,65.69Zm42.24,0C78.41,65.69,73.25,60,73.25,53s5.18-12.74,11.54-12.74S96.23,46,96.12,53,91.08,65.69,84.69,65.69Z"/>
                </svg>
                Discord
            </a>
            <a href="https://xeno.onl" target="_blank" rel="noopener noreferrer" class="action-button bg-blue-600 hover:bg-blue-700 text-white flex items-center justify-center md:justify-start">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mr-2"><circle cx="12" cy="12" r="10"/><line x1="2" y1="12" x2="22" y2="12"/><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"/></svg>
                Website
            </a>
        </div>
        
        <header class="text-center mb-10 py-12">
            <h1 class="text-5xl md:text-7xl font-bold mb-4 tracking-tight text-white">
                Help & Tutorial
            </h1>
            <p class="text-gray-400 text-lg font-light">
                Learn how to use Xeno and troubleshoot common issues
            </p>
        </header>

        <div class="mb-16 max-w-5xl mx-auto">
            <div class="flex items-center justify-center mb-6">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#f3f4f6" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-6 h-6 mr-3"><polygon points="5 3 19 12 5 21 5 3"/></svg>
                <h2 class="text-2xl font-semibold text-white">Quick Start Guide</h2>
            </div>

            <div class="fix-card p-6 md:p-10 rounded-xl relative overflow-hidden">
                <div class="absolute top-0 right-0 w-64 h-64 bg-indigo-900 rounded-full blur-3xl opacity-20 -mr-16 -mt-16 pointer-events-none"></div>

                <div class="grid grid-cols-1 md:grid-cols-3 gap-8 relative z-10">
                    
                    <div class="text-center relative group">
                        <div class="w-14 h-14 bg-gray-900 rounded-full flex items-center justify-center mx-auto mb-4 border border-gray-700 text-white font-bold text-xl group-hover:border-indigo-500 transition-colors">1</div>
                        <h3 class="text-xl font-bold text-white mb-2">Open & Launch</h3>
                        <p class="text-gray-400 text-sm leading-relaxed">
                            Open <span class="text-white font-semibold">Roblox</span> and join a game first. Then, open the <span class="text-white font-semibold">Xeno</span> application.
                        </p>
                    </div>

                    <div class="text-center relative group">
                        <div class="hidden md:block absolute top-7 -left-1/2 w-full h-0.5 bg-gradient-to-r from-transparent via-gray-700 to-transparent -z-10"></div>
                        
                        <div class="w-14 h-14 bg-indigo-600 rounded-full flex items-center justify-center mx-auto mb-4 shadow-lg shadow-indigo-500/30 text-white group-hover:scale-110 transition-transform duration-300">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"/><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"/></svg>
                        </div>
                        <h3 class="text-xl font-bold text-white mb-2">Click the Chain</h3>
                        <p class="text-gray-400 text-sm leading-relaxed">
                            Press the <span class="text-indigo-400 font-bold">Chain Button</span> icon inside Xeno to inject into the game process.
                        </p>
                    </div>

                    <div class="text-center relative group">
                        <div class="hidden md:block absolute top-7 -left-1/2 w-full h-0.5 bg-gradient-to-r from-transparent via-gray-700 to-transparent -z-10"></div>

                        <div class="w-14 h-14 bg-gray-900 rounded-full flex items-center justify-center mx-auto mb-4 border border-green-500 text-green-400 shadow-[0_0_15px_rgba(34,197,94,0.3)]">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"/></svg>
                        </div>
                        <h3 class="text-xl font-bold text-white mb-2">Check for Green</h3>
                        <p class="text-gray-400 text-sm leading-relaxed">
                            Ensure the <span class="text-white font-semibold">Clients Tab</span> turns <span class="text-green-400 font-bold green-pulse">GREEN</span>. You are now ready to execute scripts!
                        </p>
                    </div>

                </div>
            </div>
        </div>

        <div class="flex items-center justify-center mb-10">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#f3f4f6" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-6 h-6 mr-3"><path d="M9.09 3a9 9 0 0 1 5.86 1.13c1.78.68 3.1 2.2 3.55 4.02.45 1.82 0 3.82-1.3 5.12l-5.6 5.6c-1.3 1.3-3.05 1.84-4.87 1.39-1.82-.45-3.34-1.77-4.02-3.55A9 9 0 0 1 3 14.91"/></svg>
            <h2 class="text-2xl font-semibold text-white">Common Issues</h2>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-16" id="fixes-grid">

            <div id="fix-1" class="fix-card p-6 rounded-lg flex flex-col justify-between">
                <div>
                    <div class="flex items-start mb-4">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#f3f4f6" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-5 h-5 mt-1 mr-3 text-white"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>
                        <div>
                            <h2 class="text-xl font-bold accent-color mb-1">Xeno not opening</h2> 
                            <p class="text-sm text-gray-400">You do not have the required dependencies downloaded.</p>
                        </div>
                    </div>
                    
                    <p class="text-gray-300 mb-4">Download Microsoft Webview2 and .NET Runtime 8.0.0</p>
                    <ul class="space-y-3 text-gray-400 list-disc list-inside pl-3">
                        <li class="flex flex-wrap items-center group">
                            <a href="https://go.microsoft.com/fwlink/?linkid=2124701" target="_blank" rel="noopener noreferrer" class="font-medium text-blue-400 hover:text-blue-300 ml-2">Microsoft Webview2</a>
                        </li>
                        <li class="flex flex-wrap items-center group">
                            <a href="https://dotnet.microsoft.com/en-us/download/dotnet/thank-you/runtime-desktop-8.0.10-windows-x64-installer" target="_blank" rel="noopener noreferrer" class="font-medium text-blue-400 hover:text-blue-300 ml-2">.NET Runtime 8.0.0</a>
                        </li>
                    </ul>
                </div>
                
                <div class="mt-6 pt-4 border-t border-gray-800 flex justify-end items-center" id="tracker-fix-1">
                    <button onclick="toggleFixStatus('fix-1')" class="px-5 py-2 text-sm rounded-full transition duration-200 font-semibold mark-button">
                        Mark as Fixed
                    </button>
                </div>
            </div>

            <div id="fix-2" class="fix-card p-6 rounded-lg flex flex-col justify-between">
                <div>
                    <div class="flex items-center mb-4">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#f59e0b" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-6 h-6 mr-3"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/><path d="M15 9l-4 4-2-2"/></svg>
                        <h2 class="text-xl font-bold accent-color">"Failed to Attach" Error</h2>
                    </div>
                    <p class="text-gray-400 mb-4">Security software interference or missing C++ dependencies.</p>
                    
                    <ul class="list-disc list-inside space-y-3 pl-3 text-gray-300">
                        <li class="flex flex-wrap items-center group">
                            <span>Install <b><a href="https://aka.ms/vs/17/release/vc_redist.x64.exe" target="_blank" rel="noopener noreferrer" class="text-blue-400 hover:text-blue-300 underline">Visual C++ Redist. (x64)</a></b></span>
                        </li>
                        <li class="text-gray-400 font-bold">
                            Add the Xeno folder to your antivirus exclusions.
                        </li>
                        <li>
                            Ensure both Xeno and Roblox are fully closed before running Xeno.
                        </li>
                    </ul>
                </div>
                
                <div class="mt-6 pt-4 border-t border-gray-800 flex justify-end items-center" id="tracker-fix-2">
                    <button onclick="toggleFixStatus('fix-2')" class="px-5 py-2 text-sm rounded-full transition duration-200 font-semibold mark-button">
                        Mark as Fixed
                    </button>
                </div>
            </div>

            <div id="fix-3" class="fix-card p-6 rounded-lg flex flex-col justify-between">
                <div>
                    <div class="flex items-center mb-4">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#ef4444" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-6 h-6 mr-3"><circle cx="12" cy="12" r="10"/><line x1="12" y1="8" x2="12" y2="12"/><line x1="12" y1="16" x2="12.01" y2="16"/></svg>
                        <h2 class="text-xl font-bold accent-color">Version Mismatch / Crash</h2>
                    </div>
                    <p class="text-gray-400 mb-4">Roblox recently updated. Xeno requires specific client versions.</p>
                    
                    <ul class="list-disc list-inside space-y-3 pl-3 text-gray-300">
                        <li class="flex flex-wrap items-center group">
                            <span class="mr-2">Download: <b><a href="https://rdd.weao.gg" target="_blank" rel="noopener noreferrer" class="text-blue-400 hover:text-blue-300 underline">Roblox Downgrader</a></b></span>
                        </li>
                        <li>
                            Run the utility to install the <b>last compatible version</b>.
                        </li>
                        <li class="font-semibold">
                            Launch the downgraded Robloxplayerbeta.exe via the folder you installed.
                        </li>
                    </ul>
                </div>
                
                <div class="mt-6 pt-4 border-t border-gray-800 flex justify-end items-center" id="tracker-fix-3">
                    <button onclick="toggleFixStatus('fix-3')" class="px-5 py-2 text-sm rounded-full transition duration-200 font-semibold mark-button">
                        Mark as Fixed
                    </button>
                </div>
            </div>
            
            <div id="fix-4" class="fix-card p-6 rounded-lg flex flex-col justify-between">
                <div>
                    <div class="flex items-center mb-4">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#8b5cf6" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-6 h-6 mr-3"><polyline points="3 6 5 6 21 6"/><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"/><line x1="10" y1="11" x2="10" y2="17"/><line x1="14" y1="11" x2="14" y2="17"/></svg>
                        <h2 class="text-xl font-bold accent-color">Corrupted Cache Error</h2>
                    </div>
                    <p class="text-gray-400 mb-4">"Error Parsing Clients JSON" or corrupted installation.</p>
                    
                    <ul class="list-disc list-inside space-y-3 pl-3 text-gray-300 text-sm">
                        <li>
                            Press <b>Win + R</b> on your keyboard.
                        </li>
                        <li class="group flex flex-wrap items-center">
                            <span>Type <code class="bg-gray-800 px-1 py-0.5 rounded text-indigo-300">%localappdata%/xeno</code></span>
                            <button onclick="copyToClipboard('%localappdata%/xeno', this)" class="ml-2 inline-flex items-center p-1 rounded hover:bg-white/10 text-gray-500 hover:text-white" title="Copy Path"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg></button>
                        </li>
                        <li class="font-bold text-red-400">
                            Delete the entire "Xeno" folder.
                        </li>
                        <li>
                            Reinstall Xeno from scratch.
                        </li>
                    </ul>
                </div>
                
                <div class="mt-6 pt-4 border-t border-gray-800 flex justify-end items-center" id="tracker-fix-4">
                    <button onclick="toggleFixStatus('fix-4')" class="px-5 py-2 text-sm rounded-full transition duration-200 font-semibold mark-button">
                        Mark as Fixed
                    </button>
                </div>
            </div>

            <div id="fix-5" class="fix-card p-6 rounded-lg flex flex-col justify-between">
                <div>
                    <div class="flex items-center mb-4">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#10b981" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-6 h-6 mr-3"><circle cx="12" cy="12" r="10"/><line x1="2" y1="12" x2="22" y2="12"/><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"/></svg>
                        <h2 class="text-xl font-bold accent-color">Official Site Blocked</h2>
                    </div>
                    <p class="text-gray-400 mb-4">If you cannot reach the main download source due to ISP blocks.</p>
                    
                    <ul class="list-disc list-inside space-y-3 pl-3 text-gray-300">
                        <li class="flex flex-wrap items-center group">
                            <span class="mr-2"><b>Mirror:</b> <a href="https://x3no.pages.dev" target="_blank" rel="noopener noreferrer" class="text-blue-400 hover:text-blue-300 underline">x3no.pages.dev</a></span>
                        </li>
                        <li class="flex flex-wrap items-center group">
                            <span class="mr-2"><b>Web Proxy:</b> <a href="https://www.proxyium.com/" target="_blank" rel="noopener noreferrer" class="text-blue-400 hover:text-blue-300 underline">Proxyium</a></span>
                        </li>
                    </ul>
                </div>
                
                <div class="mt-6 pt-4 border-t border-gray-800 flex justify-end items-center" id="tracker-fix-5">
                    <button onclick="toggleFixStatus('fix-5')" class="px-5 py-2 text-sm rounded-full transition duration-200 font-semibold mark-button">
                        Mark as Fixed
                    </button>
                </div>
            </div>
            
            <div id="fix-6" class="fix-card p-6 rounded-lg flex flex-col justify-between">
                <div>
                    <div class="flex items-center mb-4">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#f43f5e" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-6 h-6 mr-3"><polyline points="16 18 22 12 16 6"/><polyline points="8 6 2 12 8 18"/><line x1="14" y1="4" x2="10" y2="20"/></svg>
                        <h2 class="text-xl font-bold accent-color">Need Scripts?</h2>
                    </div>
                    <p class="text-gray-400 mb-4">Finding reliable and current scripts for your game session.</p>
                    
                    <ul class="list-disc list-inside space-y-3 pl-3 text-gray-300">
                        <li class="flex flex-wrap items-center group">
                            <span class="mr-2">Visit <b><a href="https://scriptblox.com" target="_blank" rel="noopener noreferrer" class="text-blue-400 hover:text-blue-300 underline">ScriptBlox</a></b> for scripts.</span>
                        </li>
                    </ul>
                </div>
                
                <div class="mt-6 pt-4 border-t border-gray-800 flex justify-end items-center" id="tracker-fix-6">
                    <button onclick="toggleFixStatus('fix-6')" class="px-5 py-2 text-sm rounded-full transition duration-200 font-semibold mark-button">
                        Mark as Fixed
                    </button>
                </div>
            </div>

            <div id="fix-7" class="fix-card p-6 rounded-lg flex flex-col justify-between">
                <div>
                    <div class="flex items-center mb-4">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#0ea5e9" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-6 h-6 mr-3"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"/><line x1="3" y1="9" x2="21" y2="9"/><line x1="9" y1="21" x2="9" y2="9"/></svg>
                        <h2 class="text-xl font-bold accent-color">Tabs saying "null"</h2>
                    </div>
                    <p class="text-gray-400 mb-4">Your tab configuration files have become corrupt.</p>
                    
                    <ul class="list-disc list-inside space-y-3 pl-3 text-gray-300 text-sm">
                        <li>
                            Press <b>Win + R</b> to open Run.
                        </li>
                        <li class="group flex flex-wrap items-center">
                            <span>Type: <code class="bg-gray-800 px-1 py-0.5 rounded text-indigo-300">%localappdata%/xeno/tabs</code></span>
                            <button onclick="copyToClipboard('%localappdata%/xeno/tabs', this)" class="ml-2 inline-flex items-center p-1 rounded hover:bg-white/10 text-gray-500 hover:text-white" title="Copy Path"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg></button>
                        </li>
                        <li class="font-bold text-red-400">
                            Delete everything inside this folder.
                        </li>
                        <li>
                            Restart Xeno.
                        </li>
                    </ul>
                </div>
                
                <div class="mt-6 pt-4 border-t border-gray-800 flex justify-end items-center" id="tracker-fix-7">
                    <button onclick="toggleFixStatus('fix-7')" class="px-5 py-2 text-sm rounded-full transition duration-200 font-semibold mark-button">
                        Mark as Fixed
                    </button>
                </div>
            </div>

        </div>

        <div class="warning-box p-6 rounded-lg shadow-lg mt-8">
            <h2 class="text-2xl font-bold mb-3 flex items-center">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-6 h-6 mr-3"><path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"/><line x1="12" y1="9" x2="12" y2="13"/><line x1="12" y1="17" x2="12.01" y2="17"/></svg>
                General Info: Antivirus Warnings
            </h2>
            <ul class="list-disc space-y-2 pl-6 text-gray-300">
                <li>
                    Exploits are frequently <b>falsely marked as viruses/malware</b> by antivirus software due to their nature (Obfuscation, game manipulation).
                </li>
                <li>
                    You must <b>temporarily disable your anti-virus/firewall</b> to download and run the file.
                </li>
            </ul>
        </div>
        <footer class="text-center mt-16 pt-6 border-t border-gray-800 text-gray-500 text-sm">
            <p class="mb-2">Guide powered by Xeno community knowledge.</p>
            <p>
                Need more help? Join our Discord: 
                <a href="https://discord.gg/xe-no" target="_blank" rel="noopener noreferrer" class="text-blue-400 hover:text-blue-300 font-semibold underline">.gg/xe-no</a>
            </p>
        </footer>

    </div>

<div id="ai-widget" class="fixed bottom-6 right-6 z-50 flex flex-col items-end font-sans">
    
    <div id="chat-window" class="chat-hidden mb-4 w-80 md:w-96 bg-gray-900 border border-gray-700 rounded-2xl shadow-2xl flex flex-col overflow-hidden transition-all duration-300 origin-bottom-right" style="height: 500px; max-height: 80vh;">
        
        <div class="bg-gray-800/95 backdrop-blur-md p-4 border-b border-gray-700 flex justify-between items-center flex-shrink-0">
            <div class="flex items-center">
                <div class="relative">
                    <div class="w-2.5 h-2.5 rounded-full bg-emerald-500 animate-pulse"></div>
                    <div class="absolute top-0 left-0 w-2.5 h-2.5 rounded-full bg-emerald-500 animate-ping opacity-75"></div>
                </div>
                <div class="ml-3">
                    <h3 class="font-bold text-white text-sm tracking-wide">Xeno AI Support</h3>
                    <p class="text-[10px] text-gray-400 uppercase tracking-wider">Automated Assistant</p>
                </div>
            </div>
            <button onclick="toggleChat()" class="text-gray-400 hover:text-white transition-colors p-1 hover:bg-white/10 rounded-md">
                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg>
            </button>
        </div>

        <div id="chat-messages" class="flex-1 overflow-y-auto p-4 space-y-4 bg-black/40 scroll-smooth custom-scrollbar">
            <div class="flex justify-start animate-fade-in-up">
                <div class="bg-gray-800 text-gray-200 rounded-2xl rounded-tl-none px-4 py-3 text-sm max-w-[85%] border border-gray-700 shadow-sm leading-relaxed">
                    <p class="font-semibold text-white mb-1">Hello! ðŸ‘‹</p>
                    <p>I have been trained on the Xeno documentation. Ask me about:</p>
                    <ul class="list-disc list-inside mt-2 space-y-1 text-gray-400 text-xs">
                        <li>Installation & Dependencies</li>
                        <li>"Failed to Attach" errors</li>
                        <li>Crashes or Version issues</li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="p-3 bg-gray-800 border-t border-gray-700 flex-shrink-0">
            <div class="flex items-center gap-2 bg-gray-900 border border-gray-600 rounded-full px-4 py-2 focus-within:border-indigo-500 focus-within:ring-1 focus-within:ring-indigo-500 transition-all">
                <input type="text" id="chat-input" autocomplete="off" placeholder="Type your issue..." class="flex-1 bg-transparent border-none text-white text-sm focus:outline-none placeholder-gray-500" onkeydown="handleEnter(event)">
                <button onclick="sendMessage()" class="text-indigo-500 hover:text-white transition-colors p-1">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="22" y1="2" x2="11" y2="13"/><polygon points="22 2 15 22 11 13 2 9 22 2"/></svg>
                </button>
            </div>
        </div>
    </div>
    
    <button onclick="toggleChat()" class="group bg-indigo-600 hover:bg-indigo-500 text-white p-4 rounded-full shadow-[0_0_20px_rgba(79,70,229,0.3)] transition-all hover:scale-105 flex items-center justify-center relative z-50">
        <span class="absolute top-0 right-0 -mt-1 -mr-1 flex h-3 w-3">
            <span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"></span>
            <span class="relative inline-flex rounded-full h-3 w-3 bg-red-500"></span>
        </span>
        
        <svg id="icon-open" class="transition-transform duration-300 group-hover:-rotate-12" xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/></svg>
        <svg id="icon-close" class="hidden transition-transform duration-300 group-hover:rotate-90" xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg>
    </button>
</div>

<script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

<script>
    // ------------------------------------------------------------------
    // 1. DATA: The Knowledge Base (Local Keyword Fixes)
    // ------------------------------------------------------------------
    const knowledgeBase = [
        {
            keywords: ['open', 'start', 'launch', 'click', 'nothing happens', 'dependency', 'webview', 'net', 'runtime'],
            response: "**Xeno Won't Open?**\n\nYou are missing required Microsoft dependencies.\n\n1. Install [Webview2](https://go.microsoft.com/fwlink/?linkid=2124701)\n2. Install [.NET Runtime 8.0](https://dotnet.microsoft.com/en-us/download/dotnet/thank-you/runtime-desktop-8.0.10-windows-x64-installer)\n\n*Restart your PC after installing both.*"
        },
        {
            keywords: ['attach', 'inject', 'failed', 'error code', 'dll', 'antivirus', 'defender', 'security'],
            response: "**Failed to Attach?**\n\nThis is usually caused by Antivirus or missing C++ files.\n\n1. Download [Visual C++ Redistributable (x64)](https://aka.ms/vs/17/release/vc_redist.x64.exe)\n2. **Temporarily disable** Real-time Protection.\n3. Add the Xeno folder to your Antivirus **Exclusions**.\n4. Close Roblox completely and try again."
        },
        {
            keywords: ['crash', 'close', 'closes', 'version', 'update', 'roblox update', 'downgrade', 'mismatch'],
            response: "**Is Roblox Crashing?**\n\nRoblox likely updated recently. Xeno requires a specific client version.\n\n1. Download the [Roblox Downgrader](https://rdd.weao.gg).\n2. Run it to revert to the supported version.\n3. **Important:** Launch the game using `RobloxPlayerBeta.exe` from the folder, not the web launcher."
        },
        {
            keywords: ['json', 'parse', 'corrupt', 'config', 'settings', 'error parsing'],
            response: "**Corrupt Configuration Detected**\n\nWe need to reset your local Xeno data.\n\n1. Press `Win + R`\n2. Type `%localappdata%/xeno` and hit Enter.\n3. Delete that **entire folder**.\n4. Reinstall/Restart Xeno."
        },
        {
            keywords: ['tab', 'null', 'blank', 'script hub', 'loading'],
            response: "**Tabs saying 'null'?**\n\nYour tab cache is corrupt.\n\n1. Press `Win + R`\n2. Type `%localappdata%/xeno/tabs`\n3. Delete all files inside that folder.\n4. Restart Xeno."
        },
        {
            keywords: ['site', 'website', 'block', 'isp', 'download', 'cant download'],
            response: "**Official Site Blocked?**\n\nYour ISP might be blocking the main domain. Try these:\n\n* **Mirror:** [x3no.pages.dev](https://x3no.pages.dev)\n* **Web Proxy:** [Proxyium](https://www.proxyium.com/)"
        },
        {
            keywords: ['script', 'hack', 'cheat', 'code', 'pastebin', 'executor'],
            response: "**Looking for Scripts?**\n\nXeno executes scripts, but doesn't make them. I recommend searching on:\n\n* **[ScriptBlox.com](https://scriptblox.com)**\n* **[RbxScript.com](https://rbxscript.com)**"
        },
        {
            keywords: ['hi', 'hello', 'hey', 'help', 'support', 'test'],
            response: "Hello! I am the Xeno Support AI. \n\nI can help you debug **Crashes**, **Attachment Errors**, or **Installation issues**. What's happening?"
        }
    ];

    // ------------------------------------------------------------------
    // 2. LOGIC: Conversation State & UI Functions
    // ------------------------------------------------------------------

    // State for the External AI (maintains context for the API)
    const conversationHistory = [{
        role: "system",
        content: "You are Xeno AI Support, a helpful, friendly assistant. Your primary goal is to provide intelligent support based on Xeno documentation. If the user asks for scripts, gently redirect them to ScriptBlox.com. Keep responses brief and use bullet points when listing steps."
    }];
    
    let isChatOpen = false;
    const chatWindow = document.getElementById('chat-window');
    const iconOpen = document.getElementById('icon-open');
    const iconClose = document.getElementById('icon-close');
    const chatInput = document.getElementById('chat-input');
    const messagesContainer = document.getElementById('chat-messages');

    function toggleChat() {
        isChatOpen = !isChatOpen;
        if (isChatOpen) {
            chatWindow.classList.remove('chat-hidden');
            chatWindow.classList.add('chat-visible');
            iconOpen.classList.add('hidden');
            iconClose.classList.remove('hidden');
            setTimeout(() => chatInput.focus(), 100);
        } else {
            chatWindow.classList.remove('chat-visible');
            chatWindow.classList.add('chat-hidden');
            iconOpen.classList.remove('hidden');
            iconClose.classList.add('hidden');
        }
    }

    function handleEnter(e) {
        if (e.key === 'Enter') sendMessage();
    }
    
    // --- Local Keyword Matcher Function ---
    function getLocalResponse(input) {
        const lowerInput = input.toLowerCase().trim();

        for (const entry of knowledgeBase) {
            // Check if any keyword exists in the user's sentence
            if (entry.keywords.some(keyword => lowerInput.includes(keyword))) {
                // Found a fast, local match!
                return entry.response;
            }
        }
        // No local match found
        return null;
    }

    // --- Main Send Message Function (Async for API Fallback) ---
    async function sendMessage() {
        const text = chatInput.value.trim();
        if (!text) return;

        // 1. Display User Message & Clear Input
        addBubble(text, 'user');
        chatInput.value = '';

        // 2. CHECK LOCAL KNOWLEDGE BASE FIRST
        const localResponse = getLocalResponse(text);

        if (localResponse) {
            // ðŸš€ SUCCESS: Use the fast local response!
            addBubble(localResponse, 'bot');
            return; // Stop execution here and skip the AI call
        }

        // 3. FALLBACK: Local search failed, initiate AI request
        const typingId = showTyping();
        
        // Add user message to history ONLY when moving to AI 
        conversationHistory.push({ role: "user", content: text }); 

        try {
            const response = await fetch('/api/chat', { // Your Vercel endpoint
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({
                    messages: conversationHistory 
                })
            });

            if (!response.ok) {
                const errorData = await response.json();
                throw new Error(errorData.error || `AI API responded with status ${response.status}`);
            }

            const data = await response.json();
            
            // Extract the AI's response text
            const aiResponseText = data.choices[0]?.message?.content || "Sorry, the external AI model failed to provide a response.";
            
            // Add AI response to history
            conversationHistory.push({ role: "assistant", content: aiResponseText });

            // Display AI response
            removeTyping(typingId);
            addBubble(aiResponseText, 'bot');

        } catch (error) {
            console.error("AI Request failed:", error);
            removeTyping(typingId);
            addBubble(`**AI Error:** I couldn't reach the support AI. Please ask about a known topic or try again later.`, 'bot');
            // Remove the user message from history so the error isn't persisted for the next query
            conversationHistory.pop(); 
        }
    }

    function addBubble(text, sender) {
        const div = document.createElement('div');
        const isUser = sender === 'user';
        
        div.className = `flex ${isUser ? 'justify-end' : 'justify-start'} animate-fade-in-up`;
        
        const bubble = document.createElement('div');
        if (isUser) {
            bubble.className = "bg-indigo-600 text-white rounded-2xl rounded-tr-none px-4 py-2.5 text-sm max-w-[85%] shadow-md break-words";
            bubble.textContent = text;
        } else {
            bubble.className = "bg-gray-800 text-gray-200 rounded-2xl rounded-tl-none px-4 py-3 text-sm max-w-[85%] border border-gray-700 shadow-sm break-words";
            // Check if 'marked' library is loaded, otherwise just text
            bubble.innerHTML = (typeof marked !== 'undefined') ? marked.parse(text) : text;
            
            // Style links
            bubble.querySelectorAll('a').forEach(a => {
                a.classList.add('text-blue-400', 'hover:text-blue-300', 'underline');
                a.setAttribute('target', '_blank');
            });
        }
        div.appendChild(bubble);
        messagesContainer.appendChild(div);
        scrollToBottom();
    }

    // NOTE: The old getAIResponse has been removed and replaced by the logic in sendMessage.

    function showTyping() {
        const id = 'typing-' + Date.now();
        const div = document.createElement('div');
        div.id = id;
        div.className = 'flex justify-start animate-fade-in-up';
        div.innerHTML = `
            <div class="bg-gray-800 rounded-2xl rounded-tl-none px-4 py-3 border border-gray-700 flex items-center space-x-1 w-fit">
                <div class="w-2 h-2 bg-gray-500 rounded-full animate-bounce" style="animation-delay: 0ms"></div>
                <div class="w-2 h-2 bg-gray-500 rounded-full animate-bounce" style="animation-delay: 150ms"></div>
                <div class="w-2 h-2 bg-gray-500 rounded-full animate-bounce" style="animation-delay: 300ms"></div>
            </div>
        `;
        messagesContainer.appendChild(div);
        scrollToBottom();
        return id;
    }

    function removeTyping(id) {
        const el = document.getElementById(id);
        if (el) el.remove();
    }

    function scrollToBottom() {
        messagesContainer.scrollTop = messagesContainer.scrollHeight;
    }

    // ------------------------------------------------------------------
    // 3. UTILITIES: Fix Buttons & Copy
    // ------------------------------------------------------------------

    function copyToClipboard(text, btn) {
        navigator.clipboard.writeText(text).then(() => {
            const originalHtml = btn.innerHTML;
            btn.innerHTML = `<svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="#10b981" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"/></svg>`;
            setTimeout(() => btn.innerHTML = originalHtml, 2000);
        });
    }

    function toggleFixStatus(id) {
        const card = document.getElementById(id);
        const btn = document.querySelector(`#tracker-${id} button`);
        
        if (card.classList.contains('completed')) {
            card.classList.remove('completed');
            btn.innerText = "Mark as Fixed";
            btn.classList.remove('bg-green-600', 'text-white');
        } else {
            card.classList.add('completed');
            btn.innerText = "Fixed";
            btn.classList.add('bg-green-600', 'text-white');
        }
    }
</script>
</body>
</html>
